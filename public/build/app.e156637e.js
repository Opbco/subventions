/*! For license information please see app.e156637e.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[143],{4180:(e,t,r)=>{var n={"./hello_controller.js":4695};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=4180},4532:(e,t,r)=>{var n={"./Components/Badge.jsx":5208,"./Components/BreadCrumbs.jsx":7234,"./Components/Contact.jsx":2367,"./Components/Copyright.jsx":963,"./Components/Header.jsx":9912,"./Components/SideBar.jsx":222,"./Components/TopBar.jsx":7880,"./Components/demandes/DemandePieces.jsx":1129,"./Components/demandes/ImprimeEts.jsx":2132,"./Components/structures/Entete.jsx":8266,"./Components/structures/StructureDetails.jsx":9277,"./Components/users/resetForm.js":9256,"./Components/users/signinForm.js":5578,"./Components/users/signupForm.js":6538,"./Error.jsx":4965,"./Main.jsx":5785,"./Pages/Home.jsx":4409,"./Pages/MyCompteBancaire.jsx":5178,"./Pages/MyDemandes.jsx":4552,"./Pages/NewDemande.jsx":5796,"./Pages/PageLayout.jsx":9642,"./Pages/SignIn.jsx":3415,"./redux/actions/UserActions.js":9954,"./redux/actions/configActions.js":8187,"./redux/reducers/UserReducer.js":4723,"./redux/reducers/configReducer.js":1030,"./redux/requests/publicAxios.js":9523,"./redux/requests/useApiAxios.js":392,"./redux/services/openApi.js":6326,"./redux/store.js":5876};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=4532},8205:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={"symfony--ux-react--react":Promise.resolve().then(r.bind(r,1343))}},4695:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===n(i)?i:String(i)),o)}var a,i}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}r.r(t),r.d(t,{default:()=>l});var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(l,e);var t,r,n,c=i(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return t=l,(r=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(r(6599).Qr)},9437:(e,t,r)=>{"use strict";(0,r(2192).x)(r(4180));(0,r(7157).V)(r(4532))},5208:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Badge:()=>m});var n,o=r(932),a=r(7294),i=["children","variant","shape"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u,s,f=o.Z.div(n||(u=["\n  min-width: 18px;\n  min-height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: ",";\n  padding: ",";\n  font-size: 11px;\n  font-weight: 600;\n\n  ","\n"],s||(s=u.slice(0)),n=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(s)}}))),(function(e){return"circle"===e.shape?"50%":"16px"}),(function(e){return"circle"===e.shape?"0":"0 6px"}),(function(e){switch(e.variant){case"info":return"\n                background-color: #048acd;\n                color: #fff;\n                ";case"success":return"\n                background-color: #0cbb34;\n                color: #fff;\n\n                ";case"danger":return"\n                background-color: #fb3939;\n                color: #fff;\n\n                ";case"warning":return"\n                background-color: #e25807;\n                color: #fff;\n\n                "}})),m=function(e){var t=e.children,r=e.variant,n=void 0===r?"info":r,o=e.shape,u=void 0===o?"rounded":o,s=l(e,i);return a.createElement(f,c({variant:n,shape:u},s),t)}},7234:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(7294),o=r(9250),a=r(9655),i=r(2793),c=r(2734),l=r(461),u=r(6706),s=r(8187),f={removeMenuBread:s.removeMenuBread,clearMenuBread:s.clearMenuBread};const m=(0,u.$j)((function(e){return{menus:e.config.menuo}}),f)((function(e){var t=(0,o.TH)(),r=(0,c.Z)(),u=(0,i.T)(r.palette.mode),s=t.pathname;return n.createElement("nav",{"aria-label":"breadcrumb",style:{backgroundColor:u.primary[400]},className:"breadcrumb-container"},n.createElement("ol",{className:"breadcrumb"},"/"!=s&&n.createElement("li",{className:"breadcrumb-item",key:"HomeStart",onClick:function(){return e.clearMenuBread()}},n.createElement(a.rU,{to:"/"},e.t("home"))),e.menus.map((function(t,r){if(t)return n.createElement("li",{className:"breadcrumb-item ".concat(s==t.to&&"active"),key:"breadcrumb".concat(r)},n.createElement(a.rU,{to:t.to},n.createElement(l.Z,{label:e.t(t.label),onDelete:function(t){return function(t,r){e.removeMenuBread(r),t.preventDefault()}(t,r)},color:s==t.to?"secondary":"primary",size:"small"})))}))))}))},2367:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(7294),o=r(1508),a=r(4680),i=r(2658),c=r(9708),l=r(1079),u=r(5725),s=r(1123),f=r(6448),m=r(2177),d=r(963),p=r(5859);const h=function(e){var t=e.t,r=e.signin,h=e.signup;return console.log(p.ZP.language),n.createElement(o.Z,{sx:{mb:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"}},n.createElement(a.Z,{sx:{width:"100%",marginBlock:4,padding:2}},n.createElement(i.Z,{variant:"h4"},t("contact_cellinfo",{ns:"login"})),n.createElement(c.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",gap:2,marginY:3},n.createElement(s.Z,null),n.createElement(l.Z,{sx:{color:"#29b027"},href:"tel:674921111",target:"_blank"},"674 92 11 11 / 674 58 16 07")),n.createElement(c.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",gap:2,marginY:3},n.createElement(f.Z,null),n.createElement(l.Z,{sx:{color:"#29b027"},href:"mailto:sg.celinfo.cea1@minesec.gov.cm",target:"_blank"},"sg.celinfo.cea1@minesec.gov.cm")),n.createElement(c.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",gap:2,marginY:3},n.createElement(m.Z,null),p.ZP.language.startsWith("fr")?n.createElement("a",{style:{color:"#29b027"},href:"/uploads/Guide utilisateur subvention.pdf",target:"_blank",download:!0},"Guide utilisateur pour une demande de subvention"):n.createElement("a",{style:{color:"#29b027"},href:"/uploads/Guidelines to apply subvention.pdf",target:"_blank",download:!0},"Guidelines to apply for financial grant")),p.ZP.language.startsWith("fr")?n.createElement("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/PfPz3B0p058?si=OIj3gTv6f2jmk_s3",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"}):n.createElement("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/xl-u7HsA1xE?si=Zvzec1WHVO2ovkHG",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"})),n.createElement(u.ZP,{container:!0},n.createElement(u.ZP,{item:!0,xs:!0},n.createElement(l.Z,{component:"button",variant:"body1",sx:{color:"#3d8514"},onClick:function(){h()}},t("want_signup",{ns:"login"}))),n.createElement(u.ZP,{item:!0},n.createElement(l.Z,{component:"button",variant:"body1",sx:{color:"#3d8514"},onClick:function(){r()}},t("want_signin",{ns:"login"})))),n.createElement(d.default,{sx:{mt:5}}))}},963:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(7294),o=r(2658),a=r(1079);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}const c=function(e){return n.createElement(o.Z,i({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright © ",n.createElement(a.Z,{color:"inherit",href:"#"},"MINESEC")," ",(new Date).getFullYear(),".")}},9912:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(7294),o=r(2734),a=r(1508),i=r(2658),c=r(2793);const l=function(e){var t=e.title,r=e.subtitle,l=(0,o.Z)(),u=(0,c.T)(l.palette.mode);return n.createElement(a.Z,{mb:"30px"},n.createElement(i.Z,{variant:"h2",color:u.grey[100],fontWeight:"bold",sx:{m:"0 0 5px 0"}},t),n.createElement(i.Z,{variant:"h5",color:u.greenAccent[400]},r))}},222:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var n=r(7294),o=r(979),a=r(2658),i=r(2734),c=r(1508),l=r(6867),u=r(9655),s=r(2793),f=r(8385),m=r(6259),d=r(8833),p=r(9541),h=r(2613),g=r(6706),y=r(9887),v=r(8187),b=r(7592);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=function(e,t){var r=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return"rgba(".concat(r,", ").concat(n,", ").concat(o,", ").concat(t,")")},O=function(e){var t=e.title,r=e.to,i=e.icon,c=(e.selected,e.setSelected);return n.createElement(o.sN,{component:n.createElement(u.rU,{to:r}),icon:i,active:window.location.pathname===r,onClick:function(e){return c(e,r,t)}},n.createElement(a.Z,null,t))},j={addMenuBread:v.addMenuBread};const Z=(0,g.$j)((function(e){return{username:e.auth.credentials.structure.name,roles:e.auth.credentials.role,session:e.auth.credentials.session,access_token:e.auth.access_token,menus:e.config.menuo}}),j)((function(e){var t,r,u=(0,y.$G)().t,g=(0,i.Z)(),v=(0,s.T)(g.palette.mode),E=x((0,n.useState)(!1),2),_=E[0],j=E[1],Z=x((0,n.useState)("Dashboard"),2),P=Z[0],L=Z[1];(0,n.useEffect)((function(){L(window.location.pathname)}),[window.location.pathname]);var k=function(t,r,n){"/"!=r&&e.addMenuBread({to:r,label:n}),L(t)},C={root:{fontSize:"13px",fontWeight:400},icon:(t={color:g.palette.menu.icon},w(t,"&.".concat(o.Kp.disabled),{color:g.palette.menu.disabled.color}),w(t,"&.".concat(o.Kp.active),{color:"#b6c8d9"}),t),SubMenuExpandIcon:{color:"#b6b7b9"},subMenuContent:function(e){return{backgroundColor:0===e.level?S(g.palette.menu.menuContent,_?1:.4):"transparent",width:"300px"}},button:(r={},w(r,"&.".concat(o.Kp.disabled),{color:g.palette.menu.disabled.color}),w(r,"&:hover",{backgroundColor:S(g.palette.menu.hover.backgroundColor,1),color:g.palette.menu.hover.color}),w(r,"&.".concat(o.Kp.active),{backgroundColor:S(g.palette.menu.hover.backgroundColor,.7),color:g.palette.menu.hover.color}),r),label:function(e){return{fontWeight:e.open?600:void 0}}};return n.createElement("div",{style:{display:"flex",height:"100%"}},n.createElement(o.YE,{collapsed:_,breakPoint:"md",backgroundColor:S(g.palette.sidebar.backgroundColor,1),rootStyles:{color:g.palette.sidebar.color}},n.createElement(o.v2,{menuItemStyles:C},n.createElement(o.sN,{onClick:function(){return j(!_)},icon:_?n.createElement(d.Z,null):void 0,style:{margin:"10px 0 20px 0"}},!_&&n.createElement(c.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",ml:"15px"},n.createElement(a.Z,{variant:"h4",color:v.grey[100]},"MINESEC"),n.createElement(l.Z,{onClick:function(){return j(!_)}},n.createElement(d.Z,null)))),!_&&n.createElement(c.Z,{mb:"25px"},n.createElement(c.Z,{display:"flex",justifyContent:"center",alignItems:"center"},n.createElement("img",{alt:"profile-user",width:"100px",height:"100px",src:"".concat(b.Z.BASE_URL,"/images/logo_minesec.jpg"),style:{cursor:"pointer",borderRadius:"50%"}})),n.createElement(c.Z,{textAlign:"center"},n.createElement(a.Z,{variant:"h5",color:v.grey[100],fontWeight:"bold",sx:{m:"10px 0 0 0"}},e.username))),n.createElement(c.Z,null,n.createElement(O,{title:u("menu_compte"),to:"/compteBancaire",icon:n.createElement(h.Z,null),selected:P,setSelected:k}),Boolean(e.session)&&n.createElement(O,{title:u("menu_demande",{val:e.session.anneeScolaire}),to:"/demande",icon:n.createElement(p.Z,null),selected:P,setSelected:k}),n.createElement(O,{title:u("menu_demandes"),to:"/mydemandes",icon:n.createElement(m.Z,null),selected:P,setSelected:k}),n.createElement(O,{title:u("menu_structure"),to:"/",icon:n.createElement(f.Z,null),selected:P,setSelected:k})))))}))},7880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var n=r(7294),o=r(2734),a=r(1508),i=r(2658),c=r(6867),l=r(604),u=r(2793),s=r(6783),f=r(5823),m=r(9949),d=r(7109),p=r(4125),h=r(3797),g=r(8885),y=r(7720),v=r(9954),b=r(4229),E=r(3540),w=r(6706),x=r(8187),_=r(5859),S=r(9887),O=r(7592),j=r(7005),Z=r(6695);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k={changeMode:x.changeMode,logoutUser:v.logoutUser};const C=(0,w.$j)((function(e){return{user:e.auth.credentials}}),k)((function(e){var t=(0,S.$G)().t,r=(0,o.Z)(),v=(0,u.T)(r.palette.mode),w=P((0,n.useState)(null),2),x=w[0],L=w[1],k=Boolean(x),C=function(){L(null)};return n.createElement(n.Fragment,null,n.createElement(a.Z,{display:"flex",justifyContent:"space-between",p:2},n.createElement(a.Z,{display:"flex",backgroundColor:v.primary[400],borderRadius:"3px",sx:{maxWidth:"650px"}},n.createElement(j.Z,null,n.createElement(i.Z,{variant:"h4"},Boolean(e.user.session)?t("active_session",{ns:"common",annee:new Date(e.user.session.dateOpen.date).getFullYear(),dateO:(0,Z.Z)(new Date(e.user.session.dateOpen.date),"dd MMM yyyy"),dateC:(0,Z.Z)(new Date(e.user.session.dateClosed.date),"dd MMM yyyy")}):t("session_absent")))),n.createElement(a.Z,{display:"flex"},n.createElement(c.Z,{onClick:function(){return e.changeMode(r.palette.mode)}},"dark"===r.palette.mode?n.createElement(f.Z,null):n.createElement(s.Z,null)),n.createElement(c.Z,null,n.createElement(m.Z,null)),n.createElement(c.Z,{onClick:function(e){L(e.currentTarget)},"aria-controls":k?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":k?"true":void 0},n.createElement(l.Z,{title:"Account settings"},n.createElement(d.Z,{alt:"profile-user",src:"".concat(O.Z.BASE_URL,"/images/avatar.webp"),sx:{width:32,height:32}},e.user.username))),n.createElement(c.Z,{color:"secondary",onClick:function(){return _.ZP.changeLanguage(_.ZP.language.startsWith("fr")?"en":"fr")}},n.createElement(l.Z,{title:t("change_language")},n.createElement(i.Z,{variant:"h3"},_.ZP.language.startsWith("fr")?" EN":" FR"))))),n.createElement(p.Z,{anchorEl:x,id:"account-menu",open:k,onClose:C,onClick:C,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},n.createElement(h.Z,{onClick:C},n.createElement(d.Z,null)," Profile"),n.createElement(h.Z,{onClick:C},n.createElement(d.Z,null)," My account"),n.createElement(y.Z,null),n.createElement(h.Z,{onClick:C},n.createElement(g.Z,null,n.createElement(b.Z,{fontSize:"small"})),"Settings"),n.createElement(h.Z,{onClick:function(){return e.logoutUser()}},n.createElement(g.Z,null,n.createElement(E.Z,{fontSize:"small"})),t("logout"))))}))},1129:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>G});var n=r(7294),o=r(9887),a=r(2734),i=r(1079),c=r(2658),l=r(6186),u=r(3155),s=r(7896),f=r(4680),m=r(9573),d=r(6011),p=r(3694),h=r(8102),g=r(8732),y=r(799),v=r(417),b=r(7109),E=r(9334),w=r(9708),x=r(9062),_=r(6867),S=r(4900),O=r(1733),j=r(4519),Z=r(6706),P=r(6326),L=r(8187),k=r(4965),C=r(7592),T=r(6455),I=r.n(T),A=r(5859);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function D(){D=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(j([])));y&&y!==t&&r.call(y,a)&&(h=y);var v=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,a,i,c){var l=s(e[n],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==M(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return Z()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:Z}}function Z(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function N(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F={setInfoMsg:L.setInfoMsg};const G=(0,Z.$j)((function(e){return{roles:e.auth.roles,structure:e.auth.credentials.structure,session:e.auth.credentials.session}}),F)((function(e){var t=(0,o.$G)().t,r=(0,n.useRef)(null),Z=R((0,n.useState)(-1),2),L=Z[0],T=Z[1],M=(0,a.Z)(),B=R((0,P.useDeleteDemandePieceMutation)(),2),F=B[0],G=(B[1].isLoading,(0,P.useGetListPiecesQuery)("Etablissement"!=e.structure.quality?1:0,{pollingInterval:0,refetchOnMountOrArgChange:!0,skip:!1})),q=G.data,U=(G.isFetching,G.error),z=(0,P.useGetDemandePiecesQuery)(e.demandeId,{pollingInterval:0,refetchOnMountOrArgChange:!0,skip:!1}),W=z.data,$=(z.isFetching,z.error),H=R((0,P.useUploadDemandeFileMutation)(),2),Y=H[0],Q=H[1].isLoading;(0,n.useEffect)((function(){var t=null==W?void 0:W.filter((function(t){var r,n;return(null===(r=t.piece)||void 0===r?void 0:r.compulsory)&&(null===(n=t.piece)||void 0===n||!n.isDestp||e.structure.isTech)})),r=null==q?void 0:q.filter((function(t){return t.compulsory&&(!t.isDestp||e.structure.isTech)}));e.setValide((null==t?void 0:t.length)!=(null==r?void 0:r.length))}),[W,q]);var V=(0,n.useCallback)((function(e){var r=null==W?void 0:W.find((function(t){var r;return(null===(r=t.piece)||void 0===r?void 0:r.id)===e.id}));return r?n.createElement(i.Z,{color:M.palette.menu.icon,href:"".concat(C.Z.BASE_URL,"/uploads/").concat(r.file.fileName),target:"_blank",rel:"noopener"},r.file.fileName):n.createElement(c.Z,{variant:"subtitle1"},t("message.file_not_attached"))}),[W]),J=n.useCallback((function(r){I().fire({title:t("message.delete_piece"),icon:"question",showCancelButton:!0,confirmButtonText:t("delete"),confirmButtonColor:M.palette.error}).then((function(n){n.isConfirmed&&F({id:e.demandeId,piece:r}).then((function(r){r.data&&e.setInfoMsg({message:t("message.delete_piece_success"),severity:"success"})})).catch((function(t){e.setInfoMsg({message:t.response.data.message,severity:"error"})}))}))}),[W]),K=function(){var r,n=(r=D().mark((function r(n){var o,a,i,c,l,u,s;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=/[ `!@#$%^&*()+\-=[\]{};':"\\|,<>\/?~]|[\u00C0-\u00FF\u0100-\u017F\u0180-\u024F]/,a=["image/jpeg","image/png","image/jpg","application/pdf"],!n.target.files[0]){r.next=20;break}if(!(n.target.files[0].size>2097152)){r.next=6;break}return e.setInfoMsg({message:t("message.file_upload_toobig"),severity:"warning"}),r.abrupt("return",!1);case 6:if(a.includes(null===(i=n.target.files[0])||void 0===i?void 0:i.type)){r.next=9;break}return e.setInfoMsg({message:t("message.file_upload_wrongtype"),severity:"warning"}),r.abrupt("return",!1);case 9:if(!o.test(n.target.files[0].name)){r.next=13;break}return console.log(n.target.files[0].name),e.setInfoMsg({message:t("message.file_upload_wrongname"),severity:"warning"}),r.abrupt("return",!1);case 13:return(l=new FormData).append("fileName",n.target.files[0].name),l.append("file",n.target.files[0]),r.next=18,Y({id:e.demandeId,piece:L,data:l});case 18:u=r.sent,null!==(c=u.data)&&void 0!==c&&c.success?e.setInfoMsg({message:t("message.file_upload_success"),severity:"success"}):e.setInfoMsg({message:null==u||null===(s=u.error)||void 0===s?void 0:s.data.message,severity:"error"});case 20:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){N(a,n,o,i,c,"next",e)}function c(e){N(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return U||$?n.createElement(k.default,null):n.createElement(n.Fragment,null,n.createElement("input",{style:{visibility:"hidden"},type:"file",ref:r,onChange:K,accept:"image/png, image/jpeg, .pdf"}),e.valide?n.createElement(l.Z,{variant:"filled",severity:"error"},n.createElement(u.Z,null,t("message.file_upload_alert")),n.createElement(u.Z,null,t("message.file_upload_incomplet")),n.createElement(u.Z,null,t("message.file_upload_condition"))):n.createElement(l.Z,{severity:"success"},t("message.file_upload_all")),n.createElement(s.Z,{component:f.Z},n.createElement(m.Z,{sx:{width:"100%"},"aria-label":"caption table"},n.createElement(d.Z,null,n.createElement(p.Z,null,n.createElement(h.Z,{align:"left",colSpan:3},t("list_piece_exigee",{val:(null==q?void 0:q.length)||0})))),n.createElement(g.Z,null,null==q?void 0:q.map((function(e,t){return n.createElement(p.Z,{key:"indexlistp".concat(t)},n.createElement(h.Z,{align:"left"},n.createElement(y.ZP,null,n.createElement(v.Z,null,n.createElement(b.Z,{sx:{backgroundColor:e.compulsory?"#f10231":"#0004"}},n.createElement(S.Z,null))),n.createElement(E.Z,{primary:"en"==A.ZP.language?e.nameen:e.name,secondary:"en"==A.ZP.language?e.signataireen:e.signataire}))),n.createElement(h.Z,{align:"right"},V(e)),n.createElement(h.Z,{align:"right"},n.createElement(w.Z,{direction:"row",alignItems:"center",columnGap:1},Q?n.createElement(x.Z,{color:"inherit"}):n.createElement(_.Z,{edge:"start","aria-label":"upload",disabled:Boolean(null==W?void 0:W.find((function(t){return(null==t?void 0:t.piece.id)==e.id}))),onClick:function(){return t=e.id,T(t),void r.current.click();var t}},n.createElement(j.Z,null)),n.createElement(_.Z,{color:M.palette.card.main,edge:"end","aria-label":"delete",disabled:!Boolean(null==W?void 0:W.find((function(t){return(null==t?void 0:t.piece.id)==e.id})))||1==e.isPermanent,onClick:function(){return J(e.id)}},n.createElement(O.Z,null)))))}))))))}))},2132:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Field:()=>S,default:()=>O});var n=r(7294),o=r(9887),a=r(4776),i=r(948),c=r(2658),l=r(3838),u=r(7645),s=r(7750),f=r(9708),m=r(8979),d=r(6914),p=r(6706),h=r(6326),g=r(4965),y=r(7116),v=r.n(y),b=r(6695),E=r(1166),w=r(8266);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}var _=n.forwardRef((function(e,t){return n.createElement(a.Z,x({direction:"up",ref:t},e))})),S=(0,i.ZP)(c.Z)((function(e){return{minWidth:"120mm",borderBottom:"solid 2px",borderBottomColor:e.theme.palette.card.main,paddingBottom:4,textTransform:"uppercase",fontWeight:300,letterSpacing:.4,fontSize:12}}));const O=(0,p.$j)((function(e){return{user:e.auth.credentials,structure:e.auth.credentials.structure}}),{})((function(e){var t,r=(0,o.$G)().t,a=n.useRef(),i=(0,h.useGetStructureDetailsQuery)(e.structure.id,{pollingInterval:0,refetchOnMountOrArgChange:!0,skip:!1}),p=i.data,y=(i.isFetching,i.error),x=(0,h.useGetDemandePiecesQuery)(e.demandeId,{pollingInterval:0,refetchOnMountOrArgChange:!0,skip:!1}),O=x.data,j=(x.isFetching,x.error),Z="Etablissement"!==e.structure.quality,P={filename:"Demande_subvention_".concat(e.demandeId),method:"save",resolution:E.GV.HIGH,page:{margin:E.Zt.MEDIUM,format:"A4",orientation:"portrait"},canvas:{mimeType:"image/jpeg",qualityRatio:1},overrides:{pdf:{compress:!0},canvas:{useCORS:!0}}};return y||j?n.createElement(g.default,null):n.createElement(l.Z,{fullScreen:!0,TransitionComponent:_,open:e.open,onClose:function(){return e.handleOpenClose(!1)}},n.createElement(u.Z,null,r("message.demande_updated_success")),n.createElement(s.Z,{sx:{display:"grid",placeItems:"center"}},n.createElement("div",{ref:a,id:"pdf-wrapper",style:{display:"flex",flexDirection:"column",gap:5,width:"100%",maxWidth:"190mm",margin:"60px auto !important"}},n.createElement(w.default,null),n.createElement(f.Z,{direction:"column",alignItems:"flex-start",gap:1,flex:1,width:"100%",marginTop:2},n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6"},"STRUCTURE :"),n.createElement(S,null,null==p?void 0:p.name)),!Z&&n.createElement(n.Fragment,null,n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6",sx:{flex:1}},"Numéro d'immatriculation :"),n.createElement(S,null,null==p?void 0:p.code)),n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6"},"Nom du responsable :"),n.createElement(S,null,null==p?void 0:p.nomFondateur)),n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6"},"ordre :"),n.createElement(S,null,null==p?void 0:p.ordre.name)),n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6",sx:{flex:1}},"type :"),n.createElement(S,null,null==p?void 0:p.forme.name))),n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6"},"région :"),n.createElement(S,null,null==p?void 0:p.subdivision.division.region.name)),n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6"},"département :"),n.createElement(S,null,null==p?void 0:p.subdivision.division.name)),n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6",sx:{flex:1}},"arrondissement:"),n.createElement(S,null,null==p?void 0:p.subdivision.name)),n.createElement(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},n.createElement(c.Z,{variant:"h6"},"Email: "),n.createElement(S,{sx:{textTransform:"none"}},null===(t=e.user)||void 0===t?void 0:t.email))),n.createElement(f.Z,{direction:"column",justifyContent:"flex-start",alignItems:"flex-start",gap:1,marginTop:1},n.createElement(c.Z,{variant:"h5"},"pièces jointes:"),n.createElement("ul",{style:{fontSize:"10pt"}},null==O?void 0:O.map((function(e,t){return n.createElement("li",{key:"piece".concat(t)}," ",null==e?void 0:e.piece.name," ")})))),n.createElement(f.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",marginTop:0},n.createElement(c.Z,{variant:"h6"},"N",n.createElement("sup",null,"o")," de dépôt du dossier: ",e.demandeId),n.createElement(c.Z,{variant:"h6",textTransform:"none"},"Signature du requérant")),n.createElement(c.Z,{variant:"subtitle1",marginTop:Z?10:0},(0,b.Z)(new Date,"dd MMM yyyy, hh:ii")))),n.createElement(m.Z,null,n.createElement(d.Z,{onClick:function(){return e.handleOpenClose(!1)},variant:"outlined"},r("print.cancel")),n.createElement(d.Z,{onClick:function(){(0,E.ZP)((function(){return document.getElementById("pdf-wrapper")}),P)},variant:"outlined"},r("print.pdf")),n.createElement(v(),{trigger:function(){return n.createElement(d.Z,{type:"submit",variant:"outlined"},r("print.btn"))},content:function(){return a.current}})))}))},8266:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(9708),o=r(1508),a=r(2658),i=r(7294);const c=(0,r(6706).$j)((function(e){return{user:e.auth.credentials}}),{})((function(e){return i.createElement(n.Z,{direction:"column",justifyContent:"space-between",alignItems:"center",gap:2,width:"100%"},i.createElement(n.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},i.createElement(n.Z,{direction:"column",justifyContent:"center",alignItems:"center"},i.createElement(o.Z,null,i.createElement(a.Z,{variant:"h5"},"République du cameroun"),i.createElement(a.Z,{variant:"h6",textAlign:"center",textTransform:"none"},"Paix-Travail-Patrie",i.createElement("br",null),"**************")),i.createElement(a.Z,{variant:"h5"},"Ministère des enseignements secondaires",i.createElement("br",null),"**************"),i.createElement(a.Z,{variant:"h5"},"secrétariat général")),i.createElement(n.Z,{direction:"column",justifyContent:"center",alignItems:"center"},i.createElement(o.Z,null,i.createElement(a.Z,{variant:"h5"},"Republic of cameroon"),i.createElement(a.Z,{variant:"h6",textAlign:"center",textTransform:"none"},"Peace-Work-Fatherland",i.createElement("br",null),"**************")),i.createElement(a.Z,{variant:"h5"},"Ministry of secondary education",i.createElement("br",null),"**************"),i.createElement(a.Z,{variant:"h5"},"secretariat general"))),i.createElement(a.Z,{variant:"h5"},"Demande de subvention financière de l'état aux organisations et aux établissements scolaires ou formations privés d'enseignement secondaire et normal"),i.createElement(a.Z,{variant:"h5"},"Année budgetaire ",new Date(e.user.session.dateOpen.date).getFullYear()))}))},9277:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Field:()=>m,default:()=>p});var n=r(7294),o=r(9887),a=r(948),i=r(2658),c=r(9708),l=r(6706),u=r(8187),s=r(6326),f=r(4965),m=(0,a.ZP)(i.Z)((function(e){return{flex:1,minWidth:"300px",borderBottom:"solid 2px",borderBottomColor:e.theme.palette.menu.icon,paddingBottom:4,textTransform:"uppercase",fontWeight:500,letterSpacing:.4,fontSize:12}})),d={setInfoMsg:u.setInfoMsg};const p=(0,l.$j)((function(e){return{roles:e.auth.roles,structure:e.auth.credentials.structure}}),d)((function(e){var t=(0,o.$G)().t,r=(0,s.useGetStructureDetailsQuery)(e.structure.id,{pollingInterval:0,refetchOnMountOrArgChange:!0,skip:!1}),a=r.data;r.isFetching;return r.error?n.createElement(f.default,null):n.createElement(c.Z,{direction:"column",justifyContent:"center",alignItems:"flex-start",gap:2},n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.region")," :"),n.createElement(m,null,null==a?void 0:a.subdivision.division.region.name)),n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.division")," :"),n.createElement(m,null,null==a?void 0:a.subdivision.division.name)),n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.subdivision")," :"),n.createElement(m,null,null==a?void 0:a.subdivision.name)),n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.code")," :"),n.createElement(m,null,null==a?void 0:a.code)),n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.name")," :"),n.createElement(m,null,null==a?void 0:a.name)),n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.type")," :"),n.createElement(m,null,null==a?void 0:a.typeStructure)),n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.ordre")," :"),n.createElement(m,null,null==a?void 0:a.ordre.name)),!e.isOrg&&n.createElement(n.Fragment,null,n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.forme")," :"),n.createElement(m,null,null==a?void 0:a.forme.name)),n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.system")," :"),n.createElement(m,null,null==a?void 0:a.langue.label)),n.createElement(c.Z,{direction:"column",alignItems:"flex-start",flex:1},n.createElement(i.Z,{variant:"caption"},t("structure.adresse")," :"),n.createElement(m,null,null==a?void 0:a.adresse))))}))},9256:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Field:()=>P,LButton:()=>L,default:()=>C});var n,o,a=r(7294),i=r(6706),c=r(9250),l=r(9954),u=r(963),s=r(4649),f=r(948),m=r(583),d=r(1508),p=r(7109),h=r(2658),g=r(6186),y=r(3155),v=r(5725),b=r(1079),E=r(3516),w=r(6310),x=r(8466),_=r(7592);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),c=new Z(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&r.call(y,a)&&(h=y);var v=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,a,i,c){var l=s(e[n],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==S(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function j(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Z(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P=(0,f.ZP)(m.Z)(n||(n=Z(["\n  background-color: transparent;\n  & label.Mui-focused {\n    color: black;\n    font-weight: bold;\n    font-size: 1rem;\n  }\n  & .MuiInputBase-root.Mui-focused fieldset {\n    border-color: #29b027;\n    outline-color: #29b027;\n  }\n  & .MuiFormHelperText-root.Mui-error {\n    background-color: white;\n    padding: 0.8rem;\n  }\n"]))),L=(0,f.ZP)(E.Z)(o||(o=Z(["\n  background-color: #359d38;\n  margin-block: 10px;\n  &:hover {\n    border-color: #29a000;\n    background-color: #29a000;\n  }\n"]))),k={resetUser:l.resetUser,clearErrors:l.clearErrors};const C=(0,i.$j)((function(e){return{error:e.auth.errors,isLoading:e.auth.loading}}),k)((function(e){var t,r=(null===(t=(0,c.TH)().state)||void 0===t?void 0:t.from)||"/",n=(0,c.s0)(),o=w.Ry().shape({code_immatriculation:w.Z_().required(e.t("required",{ns:"login"})).min(5,e.t("error_immatriculation_length",{ns:"login"})).test("code_immatriculation-exists",e.t("immatriculation_check",{ns:"login"}),function(){var e,t=(e=O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_.Z.BASE_URL,"/api/open/immatriculation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_immatriculation:t,purpose:0})});case 2:return r=e.sent,e.abrupt("return",200==r.status);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){j(a,n,o,i,c,"next",e)}function c(e){j(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),plainPassword:w.Z_().required(e.t("required",{ns:"login"})).min(8,e.t("error_pass_length",{ns:"login"})).matches(/[0-9]/,e.t("error_password",{ns:"login",val:"digit"})).matches(/[a-z]/,e.t("error_password",{ns:"login",val:"lowercase"})).matches(/[A-Z]/,e.t("error_password",{ns:"login",val:"uppercase"})),confirm_password:w.Z_().oneOf([w.iH("plainPassword"),null],"Does not match with password!").required(e.t("required",{ns:"login"}))});return a.createElement(d.Z,{sx:{mb:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"}},a.createElement(p.Z,{sx:{m:1,bgcolor:"#359d38"}},a.createElement(x.Z,null)),a.createElement(h.Z,{component:"h1",variant:"h5"},e.t("resetting",{ns:"login"})),e.error&&a.createElement(g.Z,{severity:"error",sx:{width:"100%",mt:3,mb:2},onClose:function(){e.clearErrors()}},a.createElement(y.Z,null,e.t("error",{ns:"login"})),a.createElement("strong",null,e.error)),a.createElement(s.J9,{onSubmit:function(t){return e.resetUser(t,n,r)},initialValues:{code_immatriculation:"",plainPassword:"",confirm_password:""},validationSchema:o,validateOnChange:!1,validateOnBlur:!1},(function(t){var r=t.values,n=t.errors,o=t.touched,i=t.handleBlur,c=t.handleChange,l=t.handleSubmit,s=t.isValidating;return a.createElement(d.Z,{component:"form",onSubmit:l,sx:{mt:1}},a.createElement(P,{margin:"normal",required:!0,fullWidth:!0,size:"small",id:"usercode_immatriculationname",label:e.t("code_immatriculation",{ns:"login"}),name:"code_immatriculation",autoFocus:!0,onChange:c,onBlur:i,value:r.code_immatriculation,error:!!o.code_immatriculation&&!!n.code_immatriculation,helperText:o.code_immatriculation&&n.code_immatriculation}),a.createElement(P,{margin:"normal",required:!0,fullWidth:!0,name:"plainPassword",label:e.t("password",{ns:"login"}),type:"password",id:"plainPassword",autoComplete:"current-password",size:"small",onBlur:i,onChange:c,value:r.plainPassword,error:!!o.plainPassword&&!!n.plainPassword,helperText:o.plainPassword&&n.plainPassword}),a.createElement(P,{margin:"normal",required:!0,fullWidth:!0,name:"confirm_password",label:e.t("confirm_password",{ns:"login"}),type:"password",id:"confirm_password",autoComplete:"current-password",size:"small",onBlur:i,onChange:c,value:r.confirm_password,error:!!o.confirm_password&&!!n.confirm_password,helperText:o.confirm_password&&n.confirm_password}),a.createElement(L,{type:"submit",variant:"contained",fullWidth:!0,size:"large",loading:e.isLoading||s},a.createElement("span",null,e.t("reset",{ns:"login"}))),a.createElement(v.ZP,{container:!0},a.createElement(v.ZP,{item:!0,xs:!0},a.createElement(b.Z,{component:"button",variant:"body1",sx:{color:"#3d8514"},onClick:function(){e.help()}},e.t("want_help",{ns:"login"}))),a.createElement(v.ZP,{item:!0},a.createElement(b.Z,{component:"button",variant:"body1",sx:{color:"#3d8514"},onClick:function(){e.signin()}},e.t("want_signin",{ns:"login"})))),a.createElement(u.default,{sx:{mt:5}}))})))}))},5578:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Field:()=>O,LButton:()=>j,default:()=>P});var n,o,a=r(7294),i=r(6706),c=r(9250),l=r(9954),u=r(963),s=r(4649),f=r(948),m=r(583),d=r(1508),p=r(7109),h=r(2658),g=r(6186),y=r(3155),v=r(9708),b=r(1079),E=r(5725),w=r(3516),x=r(6310),_=r(3845);function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=(0,f.ZP)(m.Z)(n||(n=S(["\n  background-color: transparent;\n  & label.Mui-focused {\n    color: black;\n    font-weight: bold;\n    font-size: 1rem;\n  }\n  & .MuiInputBase-root.Mui-focused fieldset {\n    border-color: #29b027;\n    outline-color: #29b027;\n  }\n  & .MuiFormHelperText-root.Mui-error {\n    background-color: white;\n    padding: 0.8rem;\n  }\n"]))),j=(0,f.ZP)(w.Z)(o||(o=S(["\n  background-color: #359d38;\n  margin-block: 10px;\n  &:hover {\n    border-color: #29a000;\n    background-color: #29a000;\n  }\n"]))),Z={loginUser:l.loginUser,clearErrors:l.clearErrors};const P=(0,i.$j)((function(e){return{error:e.auth.errors,isLoading:e.auth.loading}}),Z)((function(e){var t,r=(null===(t=(0,c.TH)().state)||void 0===t?void 0:t.from)||"/",n=(0,c.s0)(),o=x.Ry().shape({username:x.Z_().required(e.t("required",{ns:"login"})),password:x.Z_().required(e.t("required",{ns:"login"})).min(8,e.t("error_pass_length",{ns:"login"})).matches(/[0-9]/,e.t("error_password",{ns:"login",val:"digit"})).matches(/[a-z]/,e.t("error_password",{ns:"login",val:"lowercase"})).matches(/[A-Z]/,e.t("error_password",{ns:"login",val:"uppercase"}))});return a.createElement(d.Z,{sx:{mt:0,mb:8,mx:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},a.createElement(p.Z,{sx:{m:1,bgcolor:"#359d38"}},a.createElement(_.Z,null)),a.createElement(h.Z,{variant:"h5"},e.t("connection",{ns:"login"})),e.error&&a.createElement(g.Z,{severity:"error",sx:{width:"100%",mt:3,mb:2},onClose:function(){e.clearErrors()}},a.createElement(y.Z,null,e.t("error",{ns:"login"})),a.createElement("strong",null,e.error)),a.createElement(s.J9,{onSubmit:function(t){return e.loginUser(t,n,r)},initialValues:{username:"",password:""},validationSchema:o},(function(t){var r=t.values,n=t.errors,o=t.touched,i=t.handleBlur,c=t.handleChange,l=t.handleSubmit;return a.createElement(d.Z,{component:"form",onSubmit:l,sx:{width:"100%"}},a.createElement(O,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:e.t("username",{ns:"login"}),name:"username",autoFocus:!0,onBlur:i,onChange:c,value:r.username,error:!!o.username&&!!n.username,helperText:o.username&&n.username}),a.createElement(O,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:e.t("password",{ns:"login"}),type:"password",id:"password",autoComplete:"current-password",onBlur:i,onChange:c,value:r.password,error:!!o.password&&!!n.password,helperText:o.password&&n.password}),a.createElement(v.Z,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},a.createElement(b.Z,{component:"button",variant:"body1",sx:{color:"#d32f2f",textDecorationColor:"#d32f2f"},onClick:function(){e.reset()}},e.t("want_reset",{ns:"login"}))),a.createElement(j,{type:"submit",variant:"contained",fullWidth:!0,size:"large",loading:e.isLoading},a.createElement("span",null,e.t("signin",{ns:"login"}))),a.createElement(E.ZP,{container:!0},a.createElement(E.ZP,{item:!0,xs:!0},a.createElement(b.Z,{component:"button",variant:"body1",sx:{color:"#3d8514"},onClick:function(){e.help()}},e.t("want_help",{ns:"login"}))),a.createElement(E.ZP,{item:!0},a.createElement(b.Z,{component:"button",variant:"body1",sx:{color:"#3d8514"},onClick:function(){e.signup()}},e.t("want_signup",{ns:"login"})))),a.createElement(u.default,{sx:{mt:5}}))})))}))},6538:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Field:()=>L,LButton:()=>k,default:()=>T});var n,o,a=r(7294),i=r(6706),c=r(9250),l=r(9954),u=r(963),s=r(4649),f=r(948),m=r(583),d=r(1508),p=r(7109),h=r(2658),g=r(6186),y=r(3155),v=r(5725),b=r(1079),E=r(3516),w=r(6310),x=r(1715),_=r(7592);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),c=new Z(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&r.call(y,a)&&(h=y);var v=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,a,i,c){var l=s(e[n],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==S(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function j(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Z(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){j(a,n,o,i,c,"next",e)}function c(e){j(a,n,o,i,c,"throw",e)}i(void 0)}))}}function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=(0,f.ZP)(m.Z)(n||(n=P(["\n  background-color: transparent;\n  & label.Mui-focused {\n    color: black;\n    font-weight: bold;\n    font-size: 1rem;\n  }\n  & .MuiInputBase-root.Mui-focused fieldset {\n    border-color: #29b027;\n    outline-color: #29b027;\n  }\n  & .MuiFormHelperText-root.Mui-error {\n    background-color: white;\n    padding: 0.8rem;\n  }\n"]))),k=(0,f.ZP)(E.Z)(o||(o=P(["\n  background-color: #359d38;\n  margin-block: 10px;\n  &:hover {\n    border-color: #29a000;\n    background-color: #29a000;\n  }\n"]))),C={registerUser:l.registerUser,clearErrors:l.clearErrors};const T=(0,i.$j)((function(e){return{error:e.auth.errors,isLoading:e.auth.loading}}),C)((function(e){var t,r=(null===(t=(0,c.TH)().state)||void 0===t?void 0:t.from)||"/",n=(0,c.s0)(),o=w.Ry().shape({code_immatriculation:w.Z_().required(e.t("required",{ns:"login"})).min(5,e.t("error_immatriculation_length",{ns:"login"})).test("code_immatriculation-exists",e.t("immatriculation_nexist",{ns:"login"}),function(){var e=Z(O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_.Z.BASE_URL,"/api/open/immatriculation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_immatriculation:t,purpose:1})});case 2:return r=e.sent,e.abrupt("return",200==r.status);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),username:w.Z_().required(e.t("required",{ns:"login"})).test("username-exists",e.t("username_exist",{ns:"login"}),function(){var e=Z(O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_.Z.BASE_URL,"/api/open/username"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});case 2:return r=e.sent,e.abrupt("return",200==r.status);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),plainPassword:w.Z_().required(e.t("required",{ns:"login"})).min(8,e.t("error_pass_length",{ns:"login"})).matches(/[0-9]/,e.t("error_password",{ns:"login",val:"digit"})).matches(/[a-z]/,e.t("error_password",{ns:"login",val:"lowercase"})).matches(/[A-Z]/,e.t("error_password",{ns:"login",val:"uppercase"})),email:w.Z_().email(e.t("error_email",{ns:"login"})).required(e.t("required",{ns:"login"})).test("email-exists",e.t("email_exist",{ns:"login"}),function(){var e=Z(O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_.Z.BASE_URL,"/api/open/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 2:return r=e.sent,e.abrupt("return",200==r.status);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),confirm_email:w.Z_().oneOf([w.iH("email"),null],"Does not match with email!").email().required(e.t("required",{ns:"login"})),confirm_password:w.Z_().oneOf([w.iH("plainPassword"),null],"Does not match with password!").required(e.t("required",{ns:"login"}))});return a.createElement(d.Z,{sx:{mb:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"}},a.createElement(p.Z,{sx:{m:1,bgcolor:"#359d38"}},a.createElement(x.Z,null)),a.createElement(h.Z,{component:"h1",variant:"h5"},e.t("creating",{ns:"login"})),e.error&&a.createElement(g.Z,{severity:"error",sx:{width:"100%",mt:3,mb:2},onClose:function(){e.clearErrors()}},a.createElement(y.Z,null,e.t("error",{ns:"login"})),a.createElement("strong",null,e.error)),a.createElement(s.J9,{onSubmit:function(t){return e.registerUser(t,n,r)},initialValues:{code_immatriculation:"",username:"",email:"",plainPassword:"",confirm_email:"",confirm_password:""},validationSchema:o,validateOnChange:!1,validateOnBlur:!1},(function(t){var r=t.values,n=t.errors,o=t.touched,i=t.handleBlur,c=t.handleChange,l=t.handleSubmit,s=t.isValidating;return a.createElement(d.Z,{component:"form",onSubmit:l,sx:{mt:1}},a.createElement(L,{margin:"normal",required:!0,fullWidth:!0,size:"small",id:"usercode_immatriculationname",label:e.t("code_immatriculation",{ns:"login"}),name:"code_immatriculation",autoFocus:!0,onChange:c,onBlur:i,value:r.code_immatriculation,error:!!o.code_immatriculation&&!!n.code_immatriculation,helperText:o.code_immatriculation&&n.code_immatriculation}),a.createElement(L,{margin:"normal",required:!0,fullWidth:!0,size:"small",id:"username",label:e.t("username",{ns:"login"}),name:"username",onBlur:i,onChange:c,value:r.username,error:!!o.username&&!!n.username,helperText:o.username&&n.username}),a.createElement(L,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:e.t("email",{ns:"login"}),name:"email",type:"email",size:"small",onBlur:i,onChange:c,value:r.email,error:!!o.email&&!!n.email,helperText:o.email&&n.email}),a.createElement(L,{margin:"normal",required:!0,fullWidth:!0,id:"confirm_email",label:e.t("confirm_email",{ns:"login"}),name:"confirm_email",type:"email",size:"small",onBlur:i,onChange:c,value:r.confirm_email,error:!!o.confirm_email&&!!n.confirm_email,helperText:o.confirm_email&&n.confirm_email}),a.createElement(L,{margin:"normal",required:!0,fullWidth:!0,name:"plainPassword",label:e.t("password",{ns:"login"}),type:"password",id:"plainPassword",autoComplete:"current-password",size:"small",onBlur:i,onChange:c,value:r.plainPassword,error:!!o.plainPassword&&!!n.plainPassword,helperText:o.plainPassword&&n.plainPassword}),a.createElement(L,{margin:"normal",required:!0,fullWidth:!0,name:"confirm_password",label:e.t("confirm_password",{ns:"login"}),type:"password",id:"confirm_password",autoComplete:"current-password",size:"small",onBlur:i,onChange:c,value:r.confirm_password,error:!!o.confirm_password&&!!n.confirm_password,helperText:o.confirm_password&&n.confirm_password}),a.createElement(k,{type:"submit",variant:"contained",fullWidth:!0,size:"large",loading:e.isLoading||s},a.createElement("span",null,e.t("signup",{ns:"login"}))),a.createElement(v.ZP,{container:!0},a.createElement(v.ZP,{item:!0,xs:!0},a.createElement(b.Z,{component:"button",variant:"body1",sx:{color:"#3d8514"},onClick:function(){e.help()}},e.t("want_help",{ns:"login"}))),a.createElement(v.ZP,{item:!0},a.createElement(b.Z,{component:"button",variant:"body1",sx:{color:"#3d8514"},onClick:function(){e.signin()}},e.t("want_signin",{ns:"login"})))),a.createElement(u.default,{sx:{mt:5}}))})))}))},4965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(7294),o=r(6186),a=r(3155);const i=function(e){return n.createElement(o.Z,{severity:"error",sx:{width:"100%",mt:3,mb:2}},n.createElement(a.Z,null,"Error"),n.createElement("strong",null,"Something went wrong. Please try again."))}},5785:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(7294),o=r(9655),a=r(9250),i=r(5859),c=r(9887),l=r(7126),u=r(5538),s=r(5059);i.ZP.use(u.Z).use(c.Db).use(s.Z).init({backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},ns:["common","login"],fallbackLng:"fr",interpolation:{format:function(e,t,r){return e instanceof Date?l.ou.fromJSDate(e).setLocale(r).toLocaleString(l.ou[t]):e}}});var f=r(6706),m=r(5876),d=r(8603);const p=(0,f.$j)((function(e){return{authenticated:e.auth.authenticated}}))((function(e){var t=e.authenticated,r=e.auth,o=e.children,i=(0,a.TH)();return t===r?o:!0===r?n.createElement(a.Fg,{to:"/login",state:{from:i.pathname},replace:!0}):n.createElement(a.Fg,{to:"/"})}));(0,f.$j)((function(e){return{roles:e.auth.roles}}))((function(e){var t=e.roles,r=e.authRole,o=e.children;return r&&t.some((function(e){return r.includes(e)}))?o:n.createElement(a.Fg,{to:"/"})}));var h=r(8972),g=r(4409);function y(){var e=(0,a.lk)(),t=(0,a.s0)();return n.createElement("div",{id:"error-page",className:"container text-center"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col d-flex flex-column justify-content-center"},n.createElement("h1",null,"Oops!"),n.createElement("p",null,"Sorry, an unexpected error has occurred."),n.createElement("p",null,n.createElement("i",null,e.statusText||e.message)),n.createElement("p",null,n.createElement("a",{href:"#",className:"btn btn-link",onClick:function(){return t(-1)}},"Go back")))))}var v=r(9642),b=r(3415),E=r(5796),w=r(5178),x=r(4552);const _=function(e){e.page;var t=(0,c.$G)().t,r=(0,o.aj)([{path:"/",element:n.createElement(p,{auth:!0},n.createElement(v.default,null)),errorElement:n.createElement(y,null),children:[{index:!0,element:n.createElement(g.default,{title:"MINESEC-SUBVENTIONS"}),handle:{crumb:function(){return n.createElement(o.rU,{to:"/"},t("home"))}}},{path:"demande",element:n.createElement(E.default,{title:"Apply for this session"}),handle:{crumb:function(){return n.createElement(o.rU,{to:"/"},t("home"))}}},{path:"mydemandes",element:n.createElement(x.default,{title:"List of my applications"}),handle:{crumb:function(){return n.createElement(o.rU,{to:"/"},t("home"))}}},{path:"compteBancaire",element:n.createElement(w.default,{title:"Update my bank account details"}),handle:{crumb:function(){return n.createElement(o.rU,{to:"/"},t("home"))}}}]},{path:"login",element:n.createElement(p,{auth:!1},n.createElement(b.default,{title:"let's log in"})),handle:{crumb:function(){return n.createElement(o.rU,{to:"/login"},t("login"))}}}]);return n.createElement(n.Suspense,{fallback:n.createElement(h.Z,null)},n.createElement(f.zt,{store:m.store},n.createElement(d.r,{persistor:m.persistor,loading:n.createElement(h.Z,null)},n.createElement(a.pG,{router:r}))))}},4409:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(7294),o=r(9887),a=r(2734),i=r(1508),c=r(2658),l=r(1079),u=r(6186),s=r(2793),f=r(6706),m=r(5859),d=r(7592);const p=(0,f.$j)((function(e){return{roles:e.auth.roles,structure:e.auth.credentials.structure}}))((function(e){var t=(0,o.$G)().t,r=(0,a.Z)();(0,s.T)(r.palette.mode);return(0,n.useEffect)((function(){document.title="Welcome to FG-MINESEC"}),[]),n.createElement(i.Z,{sx:{flexGrow:1,maxWidth:"100%"}},n.createElement(c.Z,{variant:"h3",textAlign:"center"},t("welcome_message")," ",n.createElement("br",null)," ",e.structure.name),e.structure.isTech&&n.createElement(c.Z,{variant:"h5",textAlign:"center",my:8},t("welcome_file_stat_estp_message"),"  ",n.createElement(l.Z,{href:"".concat(d.Z.BASE_URL,"/uploads/").concat("en"==m.ZP.language?"Eng Administrative Form Subv ESTP.pdf":"Fr Fiche Administrative Subv ESTP.pdf"),target:"_blank",rel:"noopener",color:"#1FA030"},t("welcome_file_stat_estp"))),n.createElement(u.Z,{variant:"outlined",severity:"warning",sx:{marginTop:6,fontSize:16}},t("welcome_alert_account_message")))}))},5178:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var n,o=r(7294),a=r(9887),i=r(4649),c=r(6310),l=r(6706),u=r(6326),s=r(948),f=r(583),m=r(1508),d=r(2658),p=r(6186),h=r(9708),g=r(1079),y=r(9062),v=r(6867),b=r(4519),E=r(4965),w=r(8187),x=r(7592),_=r(3516),S=r(8972);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(){j=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),c=new Z(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&r.call(y,a)&&(h=y);var v=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,a,i,c){var l=s(e[n],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==O(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){k(a,n,o,i,c,"next",e)}function c(e){k(a,n,o,i,c,"throw",e)}i(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A,M,D=(0,s.ZP)(f.Z)(n||(A=["\n  margin-block: 8px;\n  & label {\n    font-weight: bold;\n    font-size: 1rem;\n  }\n"],M||(M=A.slice(0)),n=Object.freeze(Object.defineProperties(A,{raw:{value:Object.freeze(M)}})))),N={setInfoMsg:w.setInfoMsg};const R=(0,l.$j)((function(e){return{roles:e.auth.roles,structure:e.auth.credentials.structure,session:e.auth.credentials.session}}),N)((function(e){var t=(0,a.$G)().t,r=T((0,o.useState)({}),2),n=r[0],l=r[1],s=T((0,o.useState)({}),2),f=s[0],w=s[1],O=(0,o.useRef)(null),Z=(0,u.useGetMyCompteBancaireQuery)(e.structure.id,{pollingInterval:0,refetchOnMountOrArgChange:!0,skip:!1}),L=Z.data,k=Z.isFetching,I=Z.error,A=T((0,u.useUploadRibFileMutation)(),2),M=A[0],N=A[1].isLoading,R=T((0,u.useEditOrCreateCompteBancaireMutation)(),2),B=R[0],F=R[1].isLoading;(0,o.useEffect)((function(){document.title=e.title}),[]),(0,o.useEffect)((function(){var e;l({id:(null==L?void 0:L.id)||0,numero:(null==L?void 0:L.numero)||"",intitule:(null==L?void 0:L.intitule)||"",nameBanque:(null==L?void 0:L.nameBanque)||"",copyRIB:(null==L||null===(e=L.copyRIB)||void 0===e?void 0:e.id)||0}),null!=L&&L.copyRIB&&w(null==L?void 0:L.copyRIB)}),[L]);var G=c.Ry().shape({numero:c.Z_().required(t("form.error_numero_required")).min(8,t("form.error_numero_length")),intitule:c.Z_().required(t("form.error_intitule_required")).min(9,t("form.error_intitule_required")),copyRIB:c.Rx().positive(t("form.error_copierib_required")).integer().required(t("form.error_copierib_required")),nameBanque:c.Z_().required(t("form.error_namebanque_required")).min(9,t("form.error_namebanque_length"))}),q=function(){var r=C(j().mark((function r(n){var o;return j().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B(P(P({},n),{},{structure:e.structure.id}));case 2:null!=(o=r.sent)&&o.data.success?e.setInfoMsg({message:t("message.compte_create_updated_success"),severity:"success"}):e.setInfoMsg({message:null==o?void 0:o.data.message,severity:"error"});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),U=function(){var r=C(j().mark((function r(n,o){var a,i,c,l,u,s,f,m;return j().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=["image/jpeg","image/png","image/jpg","application/pdf"],!n.target.files[0]){r.next=16;break}if(console.log(n.target.files[0]),!(n.target.files[0].size>2097152)){r.next=6;break}return e.setInfoMsg({message:t("message.file_upload_toobig"),severity:"warning"}),r.abrupt("return",!1);case 6:if(a.includes(null===(i=n.target.files[0])||void 0===i?void 0:i.type)){r.next=9;break}return e.setInfoMsg({message:t("message.file_upload_wrongtype"),severity:"warning"}),r.abrupt("return",!1);case 9:return(l=new FormData).append("fileName",n.target.files[0].name),l.append("file",n.target.files[0]),r.next=14,M({id:e.structure.id,data:l});case 14:u=r.sent,null!==(c=u.data)&&void 0!==c&&c.success?(e.setInfoMsg({message:t("message.file_upload_success"),severity:"success"}),w(null===(s=u.data)||void 0===s?void 0:s.data),o("copyRIB",null===(f=u.data.data)||void 0===f?void 0:f.id)):(console.log(u),e.setInfoMsg({message:null==u||null===(m=u.error)||void 0===m?void 0:m.data.message,severity:"error"}));case 16:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();return k?o.createElement(S.Z,null):I?o.createElement(E.default,null):o.createElement(i.J9,{enableReinitialize:!0,onSubmit:q,initialValues:P({},n),validationSchema:G},(function(e){var r=e.values,n=e.errors,a=e.touched,i=e.handleBlur,c=e.handleChange,l=e.handleSubmit,u=e.setFieldValue;return o.createElement(m.Z,{component:"form",onSubmit:l,sx:{my:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}},o.createElement(m.Z,null,o.createElement(d.Z,{variant:"h4",marginTop:3,marginBottom:6},t("account_details")),o.createElement(p.Z,{variant:"outlined",severity:"warning",sx:{marginBlock:5,fontSize:16}},t("alert_account_message")),o.createElement(D,{id:"nameBanque",label:t("form.namebanque"),fullWidth:!0,name:"nameBanque",variant:"standard",InputLabelProps:{shrink:!0},placeholder:"COMMERCIAL MINESEC BANK",onBlur:i,onChange:c,value:r.nameBanque,error:!!a.nameBanque&&!!n.nameBanque,helperText:a.nameBanque&&n.nameBanque}),o.createElement(D,{id:"numero",label:t("form.numero"),fullWidth:!0,name:"numero",variant:"standard",placeholder:"10005 00003 00142124412 20",InputLabelProps:{shrink:!0},onBlur:i,onChange:c,value:r.numero,error:!!a.numero&&!!n.numero,helperText:a.numero&&n.numero}),o.createElement(D,{id:"intitule",label:t("form.intitule"),fullWidth:!0,name:"intitule",placeholder:"COLLEGE SAINT MINESEC",variant:"standard",InputLabelProps:{shrink:!0},onBlur:i,onChange:c,value:r.intitule,error:!!a.intitule&&!!n.intitule,helperText:a.intitule&&n.intitule}),o.createElement(h.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",marginY:1},r.copyRIB?o.createElement(g.Z,{href:"".concat(x.Z.BASE_URL,"/uploads/").concat(f.fileName),target:"_blank",rel:"noopener",color:a.copyRIB&&"#FF0000"},f.fileName):o.createElement(d.Z,{variant:"subtitle1",color:a.copyRIB&&"red"},t("form.file_not_attached")),o.createElement("input",{style:{visibility:"hidden"},type:"file",ref:O,onChange:function(e){return U(e,u)},accept:"image/png, image/jpeg, .pdf"}),N?o.createElement(y.Z,{color:"inherit"}):o.createElement(v.Z,{edge:"start","aria-label":"upload",onClick:function(){return O.current.click()}},o.createElement(b.Z,null))),o.createElement(_.Z,{type:"submit",variant:"contained",fullWidth:!0,size:"large",loading:F},o.createElement("span",null,t("form.submit_compte")))))}))}))},4552:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(7294),o=r(9887),a=r(6706),i=r(8187),c=r(6326),l=r(948),u=r(9573),s=r(8732),f=r(8102),m=r(9755),d=r(7896),p=r(6011),h=r(3694),g=r(4680),y=r(8972);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=(0,l.ZP)(f.Z)((function(e){var t,r=e.theme;return b(t={},"&.".concat(m.Z.head),{backgroundColor:r.palette.secondary.main,color:r.palette.common.white,writingMode:"sideways-lr",padding:0}),b(t,"&.".concat(m.Z.body),{fontSize:14}),t})),w=(0,l.ZP)(h.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),x={setInfoMsg:i.setInfoMsg};const _=(0,a.$j)((function(e){return{roles:e.auth.roles,structure:e.auth.credentials.structure}}),x)((function(e){var t=(0,o.$G)().t,r=(0,c.useGetMyDemandesQuery)(e.structure.id,{pollingInterval:0,refetchOnMountOrArgChange:!0,skip:!1}),a=r.data,i=r.isFetching;r.error;return(0,n.useEffect)((function(){document.title=e.title}),[]),i?n.createElement(y.Z,null):n.createElement(d.Z,{component:g.Z,sx:{p:"2px 6px"}},n.createElement(u.Z,{sx:{minWidth:700},size:"small","aria-label":"search table"},n.createElement(p.Z,null,n.createElement(h.Z,null,n.createElement(E,null,t("table.reference")),n.createElement(E,{align:"right"},t("table.dateDemande")),n.createElement(E,{align:"right"},t("table.status")),n.createElement(E,{align:"right"},t("table.montant")),n.createElement(E,{align:"right"},t("table.observation")))),n.createElement(s.Z,null,Boolean(null==a?void 0:a.length)?null==a?void 0:a.map((function(e){return n.createElement(w,{key:e.id},n.createElement(E,{component:"th",scope:"row"},e.session),n.createElement(E,{align:"right"},e.date_demande),n.createElement(E,{align:"right"},e.statut),n.createElement(E,{align:"right"},e.montant),n.createElement(E,{align:"right"},e.observation))})):n.createElement(w,null,n.createElement(E,{colSpan:5,align:"center"},t("empty_demands"))))))}))},5796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Field:()=>R,default:()=>U});var n,o=r(7294),a=r(9887),i=r(948),c=r(583),l=r(2734),u=r(1508),s=r(6446),f=r(542),m=r(5638),d=r(3460),p=r(2658),h=r(4649),g=r(6310),y=r(6706),v=r(3516),b=r(6326),E=r(4965),w=r(9277),x=r(8187),_=r(1129),S=r(2132),O=r(8972),j=r(9250);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function P(){P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(j([])));y&&y!==t&&r.call(y,a)&&(h=y);var v=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,a,i,c){var l=s(e[n],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Z(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M,D,N=(0,i.ZP)("div")((function(e){var t=e.theme;return'\n  display: grid;\n  width: 96%;\n  margin: 10px auto;\n  grid-template-columns: 70% 30%;\n  gap: 20px;\n  grid-template-areas: \n    "piece   piece"\n    "demande structure";\n  '.concat(t.breakpoints.down("sm"),'{\n    grid-template-columns: 1fr;\n    grid-template-areas:\n    "structure" \n    "piece";\n    "demande"\n  }\n')})),R=(0,i.ZP)(c.Z)(n||(M=["\n  & label {\n    font-weight: bold;\n    font-size: 1rem;\n  }\n"],D||(D=M.slice(0)),n=Object.freeze(Object.defineProperties(M,{raw:{value:Object.freeze(D)}})))),B=(0,i.ZP)("div")("\n  grid-area: demande;\n"),F=(0,i.ZP)("div")("\n  grid-area: structure;\n"),G=(0,i.ZP)("div")("\n  grid-area: piece;\n"),q={setInfoMsg:x.setInfoMsg};const U=(0,y.$j)((function(e){return{roles:e.auth.roles,structure:e.auth.credentials.structure,session:e.auth.credentials.session}}),q)((function(e){var t=(0,a.$G)().t,r=I((0,o.useState)({nombreEleve:0,nombrePersonnelEnseignant:0,nombrePersonnelPermanent:0,personnel_autorise:!1,personnel_contract:!1,percentExamen:0,nomFondateur:"",contactFondateur:"",contacts:"",isOrg:Z}),2),n=r[0],i=r[1],c=I((0,o.useState)(!1),2),y=c[0],x=c[1],Z=((0,l.Z)(),"Etablissement"!==e.structure.quality),L=I((0,o.useState)(!1),2),C=L[0],A=L[1],M=(0,b.useGetDemandeCurrentQuery)({id:e.structure.id,session:e.session.id},{pollingInterval:0,refetchOnMountOrArgChange:!0,skip:!1}),D=M.data,q=M.isFetching,U=M.error,z=(0,j.s0)(),W=I((0,b.useEditDemandeMutation)(),2),$=W[0],H=W[1].isLoading;(0,o.useEffect)((function(){document.title=e.title}),[]),(0,o.useEffect)((function(){var e,t,r,n;D&&(Boolean(null===(e=D.structure.compteBancaire)||void 0===e?void 0:e.id)||z("/compteBancaire"),i({nombreEleve:(null==D?void 0:D.nombreEleve)||0,nombrePersonnelEnseignant:(null==D?void 0:D.nombrePersonnelEnseignant)||0,nombrePersonnelPermanent:(null==D?void 0:D.nombrePersonnelPermanent)||0,personnel_autorise:(null==D?void 0:D.personnel_autorise)||!1,personnel_contract:(null==D?void 0:D.personnel_contract)||!1,percentExamen:(null==D?void 0:D.percentExamen)||0,nomFondateur:(null==D||null===(t=D.structure)||void 0===t?void 0:t.nomFondateur)||"",contactFondateur:(null==D||null===(r=D.structure)||void 0===r?void 0:r.contactFondateur)||"",contacts:(null==D||null===(n=D.structure)||void 0===n?void 0:n.contacts)||"",isOrg:Z}))}),[D,Z]);var Y=g.Ry().shape({nomFondateur:g.Z_().required(t("form.error_namef_required")).min(4,t("form.error_namef_length")),contactFondateur:g.Z_().required(t("form.error_contactf_required")).min(9,t("form.error_contacts_length")),isOrg:g.O7().notRequired(),personnel_autorise:g.O7().when("isOrg",(function(e,r){return I(e,1)[0]?r.notRequired():r.required(t("form.error_personnel_autorise_required"))})),personnel_contract:g.O7().when("isOrg",(function(e,r){return I(e,1)[0]?r.notRequired():r.required(t("form.error_personnel_contract_required"))})),contacts:g.Z_().required(t("form.error_contacts_required")).min(9,t("form.error_contacts_length")),percentExamen:g.Rx().when("isOrg",(function(e,r){return I(e,1)[0]?r.notRequired():r.positive(t("form.error_nombre_positif")).required(t("form.error_percentExamen_required")).min(0,t("form.error_nombre_min",{val:0})).max(100,t("form.error_nombre_max",{val:100}))})),nombrePersonnelEnseignant:g.Rx().when("isOrg",(function(e,r){return I(e,1)[0]?r.notRequired():r.positive(t("form.error_nombre_positif")).required(t("form.error_nombrePersonnelEnseignant_required"))})),nombreEleve:g.Rx().when("isOrg",(function(e,r){return I(e,1)[0]?r.notRequired():r.positive(t("form.error_nombre_positif")).required(t("form.error_nombreEleve_required"))})),nombrePersonnelPermanent:g.Rx().positive(t("form.error_nombrePersonnelPermanent_required")).when("nombrePersonnelEnseignant",(function(e,r){var n=I(e,1)[0];return n?r.max(n,t("form.error_nombre_max",{val:n})):r.min(0,t("form.error_nombre_min",{val:0})).notRequired()}))},[["nombrePersonnelPermanent","nombrePersonnelEnseignant"],["nombreEleve","isOrg"],["nombrePersonnelEnseignant","isOrg"],["percentExamen","isOrg"],["personnel_autorise","isOrg"],["personnel_contract","isOrg"]]),Q=function(){var r,n=(r=P().mark((function r(n){var o,a;return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,$(k(k({},n),{},{id:null==D?void 0:D.id}));case 2:o=r.sent,null!=(a=JSON.parse(null==o?void 0:o.data))&&a.success?(e.setInfoMsg({message:t("message.demande_updated_success"),severity:"success"}),A(!0)):e.setInfoMsg({message:null==a?void 0:a.message,severity:"error"});case 5:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){T(a,n,o,i,c,"next",e)}function c(e){T(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return U?o.createElement(E.default,null):o.createElement(o.Fragment,null,o.createElement(N,null,o.createElement(B,null,o.createElement(h.J9,{enableReinitialize:!0,onSubmit:Q,initialValues:k({},n),validationSchema:Y},(function(e){var r=e.values,n=e.errors,a=e.touched,i=e.handleBlur,c=e.handleChange,l=e.handleSubmit,h=e.setFieldValue;return o.createElement(u.Z,{component:"form",onSubmit:l,sx:{my:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}},q?o.createElement(O.Z,null):o.createElement(o.Fragment,null,o.createElement(u.Z,null,!Z&&o.createElement("fieldset",{style:{marginBlock:20,padding:15,borderWidth:1}},o.createElement("legend",null,t("demande.group")),o.createElement(R,{id:"nombreEleve",label:t("form.nombreEleve"),fullWidth:!0,type:"number",name:"nombreEleve",variant:"standard",InputLabelProps:{shrink:!0},inputProps:{min:0},onBlur:i,onChange:c,value:r.nombreEleve,error:!!a.nombreEleve&&!!n.nombreEleve,helperText:a.nombreEleve&&n.nombreEleve}),o.createElement(R,{id:"percentExamen",label:t("form.percentExamen"),fullWidth:!0,type:"number",name:"percentExamen",variant:"standard",InputLabelProps:{shrink:!0},inputProps:{min:0,max:100},onBlur:i,onChange:c,value:r.percentExamen,error:!!a.percentExamen&&!!n.percentExamen,helperText:a.percentExamen&&n.percentExamen,sx:{my:1}}),o.createElement(R,{id:"nombrePersonnelEnseignant",label:t("form.nombrePersonnelEnseignant"),fullWidth:!0,name:"nombrePersonnelEnseignant",type:"number",variant:"standard",inputProps:{min:0},InputLabelProps:{shrink:!0},onBlur:i,onChange:c,value:r.nombrePersonnelEnseignant,error:!!a.nombrePersonnelEnseignant&&!!n.nombrePersonnelEnseignant,helperText:a.nombrePersonnelEnseignant&&n.nombrePersonnelEnseignant,sx:{my:1}}),o.createElement(R,{id:"nombrePersonnelPermanent",label:t("form.nombrePersonnelPermanent"),fullWidth:!0,name:"nombrePersonnelPermanent",type:"number",variant:"standard",inputProps:{min:0},InputLabelProps:{shrink:!0},onBlur:i,onChange:c,value:r.nombrePersonnelPermanent,error:!!a.nombrePersonnelPermanent&&!!n.nombrePersonnelPermanent,helperText:a.nombrePersonnelPermanent&&n.nombrePersonnelPermanent,sx:{my:1}}),o.createElement(s.Z,null,o.createElement(f.Z,{control:o.createElement(m.Z,{checked:r.personnel_autorise,onChange:function(e){h("personnel_autorise",e.target.checked)}}),label:t("form.personnel_autorise")}),o.createElement(d.Z,null,a.personnel_autorise&&n.personnel_autorise)),o.createElement(s.Z,null,o.createElement(f.Z,{control:o.createElement(m.Z,{checked:r.personnel_contract,onChange:function(e){h("personnel_contract",e.target.checked)}}),label:t("form.personnel_contract")}),o.createElement(d.Z,null,a.personnel_contract&&n.personnel_contract))),o.createElement("fieldset",{style:{padding:15,borderWidth:1}},o.createElement("legend",null,t("structure.group")),o.createElement(R,{id:"contacts",label:t("form.contacts"),fullWidth:!0,name:"contacts",variant:"standard",InputLabelProps:{shrink:!0},onBlur:i,onChange:c,value:r.contacts,error:!!a.contacts&&!!n.contacts,helperText:a.contacts&&n.contacts}),o.createElement(R,{id:"nomFondateur",label:t("form.nomFondateur"),fullWidth:!0,name:"nomFondateur",variant:"standard",InputLabelProps:{shrink:!0},onBlur:i,onChange:c,value:r.nomFondateur,error:!!a.nomFondateur&&!!n.nomFondateur,helperText:a.nomFondateur&&n.nomFondateur,sx:{my:1}}),o.createElement(R,{id:"contactFondateur",label:t("form.contactFondateur"),fullWidth:!0,name:"contactFondateur",variant:"standard",InputLabelProps:{shrink:!0},onBlur:i,onChange:c,value:r.contactFondateur,error:!!a.contactFondateur&&!!n.contactFondateur,helperText:a.contactFondateur&&n.contactFondateur,sx:{my:1}})),o.createElement("fieldset",{style:{padding:15,marginBlock:10,borderWidth:1}},o.createElement("legend",null,t("contact.group")),o.createElement(p.Z,{variant:"h5"},"Le Sécretariat Technique"),o.createElement(p.Z,{variant:"body1"},"Tel:"," ",o.createElement("a",{href:"tel:677378455",target:"_blank"},"677 37 84 55 / 694 29 81 31 / 677 686 474")),o.createElement(p.Z,{variant:"body2"},"Email:"," ",o.createElement("a",{href:"mailto:desg.sdsgepesg.ssub@minesec.gov.cm",target:"_blank"},"desg.sdsgepesg.ssub@minesec.gov.cm")),o.createElement(p.Z,{variant:"h5",sx:{mt:2}},"La Cellule Informatique"),o.createElement(p.Z,{variant:"body1"},"Tel:"," ",o.createElement("a",{href:"tel:674921111",target:"_blank"},"674 92 11 11 / 674 58 16 07")),o.createElement(p.Z,{variant:"body2"},"Email:"," ",o.createElement("a",{href:"mailto:sg.celinfo.cea1@minesec.gov.cm",target:"_blank"},"sg.celinfo.cea1@minesec.gov.cm")))),o.createElement(v.Z,{type:"submit",variant:"contained",fullWidth:!0,size:"large",loading:H,disabled:y},o.createElement("span",null,t("form.submit")))))}))),o.createElement(F,null,o.createElement(w.default,{isOrg:Z})),o.createElement(G,null,Boolean(D)&&o.createElement(_.default,{demandeId:null==D?void 0:D.id,setValide:x,valide:y}))),o.createElement(S.default,{demandeId:null==D?void 0:D.id,open:C,handleOpenClose:A}))}))},9642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var n=r(7294),o=r(9887),a=r(9250),i=r(6706),c=r(9164),l=r(6720),u=r(7880),s=r(222),f=r(9617),m=r(2793),d=r(1508),p=r(4102),h=r(854),g=r(5725),y=r(963),v=r(8187),b=r(6186),E=r(7234);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}var S=n.forwardRef((function(e,t){return n.createElement(b.Z,_({elevation:6,ref:t,variant:"filled"},e))})),O={setInfoMsg:v.setInfoMsg,clearInfoMsg:v.clearInfoMsg};const j=(0,i.$j)((function(e){return{mode:e.config.mode,messageInfo:e.config.infoMessage,snackOpen:e.config.snackOpen,infoSeverity:e.config.infoSeverity}}),O)((function(e){var t=(0,o.$G)().t,r=w((0,n.useState)(!0),2),i=r[0],v=r[1],b=((0,m.T)(e.mode),(0,n.useMemo)((function(){return(0,f.Z)((0,m.P)(e.mode))}),[e.mode]));return n.createElement(n.Fragment,null,n.createElement(c.Z,{theme:b},n.createElement(l.ZP,null),n.createElement("div",{className:"app"},n.createElement(s.default,{isSidebar:i}),n.createElement(d.Z,{component:"main",sx:{flexGrow:1,height:"100vh",overflow:"auto"},className:"content"},n.createElement(u.default,{setIsSidebar:v}),n.createElement(p.Z,{sx:{mt:4,mb:4,mx:4,maxWidth:"100dvw"}},n.createElement(g.ZP,{container:!0,spacing:3},n.createElement(E.default,{t}),n.createElement(a.j3,null)),n.createElement(y.default,{sx:{pt:4}})),n.createElement(h.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e.snackOpen,autoHideDuration:6e3,onClose:e.clearInfoMsg},n.createElement(S,{onClose:e.clearInfoMsg,severity:e.infoSeverity,sx:{width:"100%"}},e.messageInfo))))))}))},3415:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(7294),o=r(6720),a=r(5725),i=r(1508),c=r(6867),l=r(604),u=r(2658),s=r(9887),f=r(5578),m=r(6538),d=r(5859),p=r(2367),h=r(9256);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const v=function(e){var t=(0,s.$G)().t,r=g(n.useState(1),2),y=r[0],v=r[1];n.useEffect((function(){document.title=e.title}),[]);return n.createElement(a.ZP,{container:!0,component:"main",sx:{height:"100vh"}},n.createElement(o.ZP,null),n.createElement(a.ZP,{item:!0,xs:12,sx:{backgroundImage:"url(./images/minesec.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",display:"grid",placeItems:"center"}},n.createElement(i.Z,{sx:{position:"relative",maxWidth:700,backgroundColor:"#fff3",backdropFilter:"blur(15px)"}},n.createElement(c.Z,{sx:{position:"absolute",top:5,right:5,color:"mediumspringgreen"},onClick:function(){return d.ZP.changeLanguage(d.ZP.language.startsWith("fr")?"en":"fr")}},n.createElement(l.Z,{title:t("change_language")},n.createElement(u.Z,null,d.ZP.language.startsWith("fr")?" EN":" FR"))),n.createElement("h5",{style:{marginInline:"auto",marginBlockStart:"2rem",marginBlockEnd:"1rem",textAlign:"center",fontSize:"1.6rem",fontWeight:700}},t("welcome_title",{ns:"login"})),function(e){switch(y){case 1:return n.createElement(f.default,{t:e,reset:function(){return v(2)},help:function(){return v(3)},signup:function(){return v(0)}});case 2:return n.createElement(h.default,{t:e,signin:function(){return v(1)},help:function(){return v(3)}});case 3:return n.createElement(p.default,{t:e,signin:function(){return v(1)},signup:function(){return v(0)}});default:return n.createElement(m.default,{t:e,signin:function(){return v(1)},help:function(){return v(3)}})}}(t))))}},9954:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearErrors:()=>h,getUserData:()=>p,loading:()=>g,loginUser:()=>l,logoutUser:()=>f,registerUser:()=>u,resetUser:()=>s,setErrors:()=>m,setMe:()=>d});var n=r(4723),o=r(1030),a=r(2861),i=r(7592),c=a.Z.create({baseURL:i.Z.BASE_URL,headers:{"Content-Type":"application/json"}}),l=function(e,t,r){return function(o){o((0,n.IS_BUSY)()),c.post("/api/login_check",e).then((function(e){e.data.token&&(t(r),o((0,n.AUTHENTICATED)(e.data)))})).catch((function(e){var t,r;o((0,n.SET_ERRORS)(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message))}))}},u=function(e,t){return function(r){r((0,n.IS_BUSY)()),c.post("/api/register",e).then((function(o){201===o.status?r(l({username:e.username,password:e.plainPassword},t,"/")):r((0,n.SET_ERRORS)(o.data.message))})).catch((function(e){console.log(e),r((0,n.SET_ERRORS)(e.message))}))}},s=function(e,t){return function(r){r((0,n.IS_BUSY)()),c.post("/api/reset",e).then((function(o){200===o.status?r(l({username:e.code_immatriculation,password:e.plainPassword},t,"/")):r((0,n.SET_ERRORS)(o.data.message))})).catch((function(e){var t;console.log(e),r((0,n.SET_ERRORS)(null===(t=e.response)||void 0===t?void 0:t.data))}))}},f=function(e){return function(e){e((0,o.CLEAR_MENU)()),e((0,n.UNAUTHENTICATED)())}},m=function(e){return function(t){t((0,n.SET_ERRORS)(e))}},d=function(e){return function(t){t((0,n.SET_USER)(e))}},p=function(e,t){return function(r){c.get("/api/structure/me",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){r((0,n.SET_USER)(e.data)),r((0,n.AUTHENTICATED)(t))})).catch((function(e){r((0,n.SET_ERRORS)(e.message))}))}},h=function(){return function(e){e((0,n.CLEAR_ERRORS)())}},g=function(){return function(e){e((0,n.IS_BUSY)())}}},8187:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addMenuBread:()=>i,changeMode:()=>o,clearInfoMsg:()=>u,clearMenuBread:()=>l,removeMenuBread:()=>c,setInfoMsg:()=>a});var n=r(1030),o=function(e){return function(t){t((0,n.SET_MODE)("light"===e?"dark":"light"))}},a=function(e){return function(t){t((0,n.SET_INFO_MESSAGE)(e))}},i=function(e){return function(t){t((0,n.ADD_MENU)(e))}},c=function(e){return function(t){t((0,n.REMOVE_MENU)(e))}},l=function(){return function(e){e((0,n.CLEAR_MENU)())}},u=function(){return function(e){e((0,n.CLEAR_INFO_MESSAGE)())}}},4723:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AUTHENTICATED:()=>f,CLEAR_ERRORS:()=>p,IS_BUSY:()=>v,LOAD_USER:()=>m,SET_ERRORS:()=>d,SET_USER:()=>h,TOGGLE_SIDEBAR:()=>y,UNAUTHENTICATED:()=>g,default:()=>b});var n=r(4268);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={authenticated:!1,access_token:"",showSideBar:!0,loading:!1,errors:null,roles:[],credentials:{},structure:{}},u=(0,n.oM)({name:"user",initialState:l,reducers:{AUTHENTICATED:function(e,t){return i(i({},e),{},{errors:"",access_token:t.payload.token,credentials:t.payload.data,roles:t.payload.data.role,authenticated:!0,loading:!1})},IS_BUSY:function(e,t){return i(i({},e),{},{loading:!0})},SET_ERRORS:function(e,t){return i(i({},e),{},{errors:t.payload,loading:!1})},CLEAR_ERRORS:function(e,t){return i(i({},e),{},{errors:"",loading:!1})},UNAUTHENTICATED:function(e,t){return i(i({},l),{},{access_token:""})},TOGGLE_SIDEBAR:function(e,t){return i(i({},e),{},{showSideBar:!e.showSideBar})},SET_USER:function(e,t){return i(i({},e),{},{structure:t.payload})}}}),s=u.actions,f=s.AUTHENTICATED,m=s.LOAD_USER,d=s.SET_ERRORS,p=s.CLEAR_ERRORS,h=s.SET_USER,g=s.UNAUTHENTICATED,y=s.TOGGLE_SIDEBAR,v=s.IS_BUSY;const b=u.reducer},1030:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{ADD_MENU:()=>h,CLEAR_INFO_MESSAGE:()=>d,CLEAR_MENU:()=>g,REMOVE_MENU:()=>p,SET_INFO_MESSAGE:()=>m,SET_MODE:()=>f,default:()=>y});var u=(0,r(4268).oM)({name:"config",initialState:{mode:"light",infoMessage:"",snackOpen:!1,infoSeverity:"info",menuo:[]},reducers:{SET_MODE:function(e,t){return c(c({},e),{},{mode:t.payload})},SET_INFO_MESSAGE:function(e,t){return c(c({},e),{},{infoMessage:t.payload.message,snackOpen:!0,infoSeverity:t.payload.severity})},CLEAR_INFO_MESSAGE:function(e,t){return c(c({},e),{},{infoMessage:"",snackOpen:!1,infoSeverity:"info"})},REMOVE_MENU:function(e,t){return c(c({},e),{},{menuo:o(e.menuo.filter((function(e,r){return r!==t.payload})))})},ADD_MENU:function(e,t){var r=e.menuo.some((function(e){return e.to==t.payload.to}));return c(c({},e),{},{menuo:r?e.menuo:[].concat(o(e.menuo),[t.payload])})},CLEAR_MENU:function(e,t){return c(c({},e),{},{menuo:[]})}}}),s=u.actions,f=s.SET_MODE,m=s.SET_INFO_MESSAGE,d=s.CLEAR_INFO_MESSAGE,p=s.REMOVE_MENU,h=s.ADD_MENU,g=s.CLEAR_MENU;const y=u.reducer},9523:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(2861),o=r(7592);const a=n.Z.create({baseURL:o.Z.BASE_API_URL,headers:{"Content-Type":"application/json"}})},392:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(9523),o=r(6706),a=r(7294),i=r(9250),c=r(4723);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new Z(o||[]);return n(i,"_invoke",{value:_(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function p(){}function h(){}function g(){}var y={};s(y,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(P([])));b&&b!==t&&r.call(b,a)&&(y=b);var E=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,a,i,c){var u=m(e[n],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==l(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function _(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=S(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=m(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=m(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:h,configurable:!0}),h.displayName=s(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},w(x.prototype),s(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new x(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const f=function(){var e=(0,o.v9)((function(e){return e.auth})),t=(0,o.I0)(),r=(0,i.s0)();return(0,a.useEffect)((function(){var o=n.default.interceptors.request.use((function(t){return t.headers.Authorization||(t.headers.Authorization="Bearer ".concat(null==e?void 0:e.access_token)),t}),(function(e){return Promise.reject(e)})),a=n.default.interceptors.response.use((function(e){return e}),function(){var e,n=(e=u().mark((function e(n){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 401===(null==n||null===(o=n.response)||void 0===o?void 0:o.status)&&(t((0,c.UNAUTHENTICATED)()),r("/login",{replace:!0})),e.abrupt("return",Promise.reject(n));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}());return function(){n.default.interceptors.request.eject(o),n.default.interceptors.response.eject(a)}}),[e.authenticated,e.access_token]),n.default}},6326:(e,t,r)=>{"use strict";r.r(t),r.d(t,{openApi:()=>p,useCreateDemandeMutation:()=>_,useDeleteDemandePieceMutation:()=>j,useEditDemandeMutation:()=>Z,useEditOrCreateCompteBancaireMutation:()=>L,useEditStructureMutation:()=>P,useGetDemandeCurrentQuery:()=>b,useGetDemandeDetailsQuery:()=>w,useGetDemandePiecesQuery:()=>v,useGetListPiecesQuery:()=>g,useGetMyCompteBancaireQuery:()=>y,useGetMyDemandesQuery:()=>x,useGetSessionQuery:()=>h,useGetStructureDetailsQuery:()=>E,useUploadDemandeFileMutation:()=>S,useUploadRibFileMutation:()=>O});var n=r(5673),o=r(848),a=r(7592),i=r(4723);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new Z(o||[]);return n(i,"_invoke",{value:_(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function p(){}function h(){}function g(){}var y={};u(y,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(P([])));b&&b!==t&&r.call(b,a)&&(y=b);var E=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,a,i,l){var u=m(e[n],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==c(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,l)}),(function(e){o("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,l)}))}l(u.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function _(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=S(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=m(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=m(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:h,configurable:!0}),h.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new x(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(E),u(E,l,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function f(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var m=(0,n.ni)({baseUrl:a.Z.BASE_API_URL,prepareHeaders:function(e,t){var r,n,o=t.getState,a=t.endpoint,i=null===(r=o())||void 0===r||null===(n=r.auth)||void 0===n?void 0:n.access_token;return a.startsWith("upload")?e.set("Accept","application/json"):e.set("Content-Type","application/json"),i&&e.set("Authorization","Bearer ".concat(i)),e}}),d=function(){var e,t=(e=s().mark((function e(t,r,n){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,r,n);case 2:return(o=e.sent).error&&401===o.error.status&&r.dispatch((0,i.UNAUTHENTICATED)()),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){f(a,n,o,i,c,"next",e)}function c(e){f(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),p=(0,o.LC)({reducerPath:"openApi",baseQuery:d,tagTypes:["Compte","Structure","User","Demande","Piece","Demande_Piece"],endpoints:function(e){return{getSession:e.query({query:function(e){return"/sessions?statut=".concat(e)}}),getListPieces:e.query({query:function(e){return"/pieces?isong=".concat(e)},providesTags:function(e,t,r){return e?[].concat(l(e.map((function(e){return{type:"Piece",id:e.id}}))),[{type:"Piece",id:"LIST"}]):[{type:"Piece",id:"LIST"}]}}),getStructureDetails:e.query({query:function(e){return"/structures/".concat(e)},providesTags:function(e,t,r){return[{type:"Structure",id:r}]}}),getDemandeDetails:e.query({query:function(e){return"/demandes/".concat(e)},providesTags:function(e,t,r){return[{type:"Demande",id:r}]}}),getDemandePieces:e.query({query:function(e){return"/demandes/".concat(e,"/pieces")},providesTags:function(e,t,r){return e?[].concat(l(e.map((function(e){return{type:"Demande_Piece",id:e.id}}))),[{type:"Demande_Piece",id:"LIST"}]):[{type:"Demande_Piece",id:"LIST"}]}}),getDemandeCurrent:e.query({query:function(e){return"/structures/".concat(e.id,"/sessions/").concat(e.session,"/demandes")},providesTags:function(e,t,r){return[{type:"Demande",id:null==e?void 0:e.id}]}}),getMyCompteBancaire:e.query({query:function(e){return"/structures/".concat(e,"/comptes")},providesTags:function(e,t,r){return[{type:"Compte",id:null==e?void 0:e.id}]}}),getMyDemandes:e.query({query:function(e){return"/structures/".concat(e,"/demandes")},providesTags:function(e,t,r){return e?[].concat(l(null==e?void 0:e.map((function(e){return{type:"Demande",id:e.id}}))),[{type:"Demande",id:"LIST"}]):[{type:"Demande",id:"LIST"}]}}),createDemande:e.mutation({query:function(e){return{url:"/demandes",method:"POST",body:e}},invalidatesTags:function(e,t,r){return[{type:"Demande",id:null==e?void 0:e.id},{type:"Demande",id:"LIST"}]}}),editDemande:e.mutation({query:function(e){return{url:"/demandes/".concat(e.id),method:"PATCH",body:e}},invalidatesTags:function(e,t,r){var n=JSON.parse(e);return console.log(n),[{type:"Demande",id:r.id},{type:"Structure",id:null==n?void 0:n.structure}]}}),editStructure:e.mutation({query:function(e){return{url:"/structures/".concat(e.id),method:"PATCH",body:e}},invalidatesTags:function(e,t,r){return[{type:"Structure",id:r.id}]}}),editOrCreateCompteBancaire:e.mutation({query:function(e){return{url:"/structures/".concat(e.structure,"/comptes"),method:"POST",body:e}},invalidatesTags:function(e,t,r){return[{type:"Compte",id:r.structure}]}}),uploadRibFile:e.mutation({query:function(e){return{url:"/structures/".concat(e.id,"/documents"),method:"POST",body:e.data,formData:!0}},transformResponse:function(e,t,r){return JSON.parse(e)}}),uploadDemandeFile:e.mutation({query:function(e){return{url:"/demandes/".concat(e.id,"/pieces/").concat(e.piece),method:"POST",body:e.data,formData:!0}},invalidatesTags:function(e,t,r){return["Demande_Piece",{type:"Demande",id:r.id}]},transformResponse:function(e,t,r){return JSON.parse(e)}}),deleteDemandePiece:e.mutation({query:function(e){return{url:"/demandes/".concat(e.id,"/pieces/").concat(e.piece),method:"DELETE"}},invalidatesTags:function(e,t,r){return[{type:"Demande_Piece",id:r.dp}]}})}}}),h=p.useGetSessionQuery,g=p.useGetListPiecesQuery,y=p.useGetMyCompteBancaireQuery,v=p.useGetDemandePiecesQuery,b=p.useGetDemandeCurrentQuery,E=p.useGetStructureDetailsQuery,w=p.useGetDemandeDetailsQuery,x=p.useGetMyDemandesQuery,_=p.useCreateDemandeMutation,S=p.useUploadDemandeFileMutation,O=p.useUploadRibFileMutation,j=p.useDeleteDemandePieceMutation,Z=p.useEditDemandeMutation,P=p.useEditStructureMutation,L=p.useEditOrCreateCompteBancaireMutation},5876:(e,t,r)=>{"use strict";r.r(t),r.d(t,{persistor:()=>y,store:()=>g});var n=r(7779),o=r(4268),a=r(9244),i=r(4723),c=r(1030),l=r(6326);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var s,f,m,d={key:"root",version:1,storage:r(8987).Z,blacklist:[l.openApi.reducerPath]},p=(0,n.UY)((s={auth:i.default,config:c.default},f=l.openApi.reducerPath,m=l.openApi.reducer,(f=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(f))in s?Object.defineProperty(s,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[f]=m,s)),h=(0,a.OJ)(d,p),g=(0,o.xC)({reducer:h,middleware:function(e){return e({serializableCheck:{ignoredActions:[a._P,a.I2,a.E7,a.ex,a.e,a.Nz]}}).concat(l.openApi.middleware)}}),y=(0,a.p5)(g)},7592:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={BASE_API_URL:"https://services.minesec.gov.cm/api/v1",BASE_URL:"https://services.minesec.gov.cm",REACT_APP_SITE_KEY:"6LdJWoopAAAAACTj0-C_BtkVIdWLc9nLenEXJII7",REACT_APP_SECRET_KEY:"6LdJWoopAAAAAIz_QtksOaDsqLZff3BRaULeFpeX"}},8972:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(7294),o=r(9062);const a=function(){return n.createElement("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",width:"100vw"}},n.createElement(o.Z,{color:"primary"}))}},2793:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{P:()=>l,T:()=>c});var c=function(e){return a({},"dark"===e?{grey:{100:"#e0e0e0",200:"#c2c2c2",300:"#a3a3a3",400:"#858585",500:"#666666",600:"#525252",700:"#3d3d3d",800:"#292929",900:"#141414"},primary:{100:"#d0d1d5",200:"#a1a4ab",300:"#727681",400:"#1F2A40",500:"#141b2d",600:"#101624",700:"#0c101b",800:"#080b12",900:"#040509"},greenAccent:{100:"#dbf5ee",200:"#b7ebde",300:"#94e2cd",400:"#8ec541",500:"#4cceac",600:"#3da58a",700:"#2e7c67",800:"#1e5245",900:"#0f2922"},redAccent:{100:"#f8dcdb",200:"#f1b9b7",300:"#e99592",400:"#e2726e",500:"#db4f4a",600:"#af3f3b",700:"#832f2c",800:"#58201e",900:"#2c100f"},blueAccent:{100:"#e1e2fe",200:"#c3c6fd",300:"#a4a9fc",400:"#868dfb",500:"#6870fa",600:"#535ac8",700:"#3e4396",800:"#2a2d64",900:"#151632"}}:{grey:{100:"#141414",200:"#292929",300:"#3d3d3d",400:"#525252",500:"#666666",600:"#858585",700:"#a3a3a3",800:"#c2c2c2",900:"#e0e0e0"},primary:{100:"#040509",200:"#080b12",300:"#0c101b",400:"#f2f0f0",500:"#141b2d",600:"#1F2A40",700:"#727681",800:"#a1a4ab",900:"#d0d1d5"},greenAccent:{100:"#0f2922",200:"#1e5245",300:"#2e7c67",400:"#3da58a",500:"#4cceac",600:"#8ec541",700:"#94e2cd",800:"#b7ebde",900:"#dbf5ee"},redAccent:{100:"#2c100f",200:"#58201e",300:"#832f2c",400:"#af3f3b",500:"#db4f4a",600:"#e2726e",700:"#e99592",800:"#f1b9b7",900:"#f8dcdb"},blueAccent:{100:"#151632",200:"#2a2d64",300:"#3e4396",400:"#535ac8",500:"#6870fa",600:"#868dfb",700:"#a4a9fc",800:"#c3c6fd",900:"#e1e2fe"}})},l=function(e){var t=c(e);return{palette:a({mode:e},"dark"===e?{primary:{main:t.primary[500]},secondary:{main:t.greenAccent[500]},neutral:{dark:t.grey[700],main:t.grey[500],light:t.grey[100]},background:{default:t.primary[500]},sidebar:{backgroundColor:"#0b2948",color:"#8ba1b7 "},entete:{title:t.redAccent[400],subtitle1:t.blueAccent[300],subtitle2:t.greenAccent[600],address:t.grey[900]},card:{main:"#dc2440"},welcome:{content:"#59d0ff",gradient:{first:t.blueAccent[500],second:t.blueAccent[200]}},menu:{menuContent:"#082440",icon:"#59d0ff",hover:{backgroundColor:"#00458b",color:"#b6c8d9"},disabled:{color:"#3e5e7e"}}}:{primary:{main:t.primary[100]},secondary:{main:t.greenAccent[500]},neutral:{dark:t.grey[700],main:t.grey[500],light:t.grey[100]},background:{default:"#fcfcfc"},sidebar:{backgroundColor:"#ffffff",color:"#607489"},welcome:{content:"#0098e5",gradient:{first:t.blueAccent[500],second:t.blueAccent[600]}},entete:{title:t.redAccent[400],subtitle1:t.blueAccent[300],subtitle2:t.greenAccent[600],address:t.grey[200]},card:{main:"#535353"},menu:{menuContent:"#fbfcfd",icon:"#0098e5",hover:{backgroundColor:"#c5e4ff",color:"#44596e"},disabled:{color:"#9fb6cf"}}}),typography:{allVariants:{fontSize:11,textTransform:"none"},h1:{fontWeight:700,fontSize:"32px",lineHeight:"40px",textTransform:"uppercase"},h2:{fontWeight:700,fontSize:"1.2rem",textTransform:"capitalize"},h3:{fontWeight:700,fontSize:"24px",lineHeight:"32px"},h4:{fontSize:14,fontWeight:600,textTransform:"uppercase",textAlign:"center"},h5:{fontSize:14,textTransform:"uppercase",textAlign:"center",fontWeight:500},h6:{fontSize:12,fontWeight:600,textTransform:"uppercase"}},components:{MuiPaper:{styleOverrides:{root:function(e){var t=e.theme;return{backgroundColor:t.palette.menu.menuContent,color:"dark"==t.palette.mode?t.palette.grey[100]:t.palette.grey[900]}}}}}}}}},e=>{e.O(0,[473],(()=>{return t=9437,e(e.s=t);var t}));e.O()}]);